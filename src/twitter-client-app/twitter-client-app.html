<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-item/paper-icon-item.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-scroll-header-panel/paper-scroll-header-panel.html">
<link rel="import" href="../../bower_components/paper-dialog-scrollable/paper-dialog-scrollable.html">

<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-icons/social-icons.html">
<link rel="import" href="../../bower_components/iron-icons/communication-icons.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">


<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">

<!--SCREENS -->
<link rel="import" href="../screens/twitter-dashboard.html">
<link rel="import" href="../screens/twitter-user.html">
<link rel="import" href="../screens/twitter-tag.html">


<dom-module id="twitter-client-app">
  <template>
    <style is="custom-style">
      :host {
        display: block;
      }
      iron-pages {
        height:100%; 
        width: 100%;
      } 
      .second-screens{
        width: 100%;
        height: 100%;
        padding: 0;
      }
      .brand{
        text-align: center;
        margin-left: 10px;
      }
      paper-toolbar {
         --paper-toolbar-background: #FFFFFF;
      }
    </style>
    <paper-drawer-panel id="drawer">
      <paper-header-panel drawer style="background-color: #81d4fa;">
        <paper-toolbar id="panel">
          Tweets
        </paper-toolbar>
        <paper-menu selected="{{selected}}" style="background-color: #81d4fa; color: #FFFFFF;">
            <paper-icon-item><iron-icon icon="dashboard" item-icon></iron-icon>Dashboard</paper-icon-item>
            <paper-icon-item><iron-icon icon="account-circle" item-icon></iron-icon>Usuarios</paper-icon-item>
            <paper-icon-item><iron-icon icon="chrome-reader-mode" item-icon></iron-icon>Tags</paper-icon-item>
        </paper-menu>
        <!--paper-icon-item on-tap="disconnect" style="border-top: 1px solid #d8d8d8;"><iron-icon icon="power-settings-new" item-icon></iron-icon>Desconectar</paper-icon-item-->
      </paper-header-panel>
      <paper-header-panel main>
        <iron-pages selected="{{selected}}" id="pages">
          <twitter-dashboard></twitter-dashboard>
          <twitter-user></twitter-user>
          <twitter-tag></twitter-tag>
        </iron-pages>
        <div class="second-screens" hidden></div>
      </paper-header-panel>
    </paper-drawer-panel>

   
     
  </template>

  <script>
    Polymer({

      is: 'twitter-client-app',
      properties: {
        selected:{
            type:Number,
            value:0,
            observer:"_selectedObserver"
        },
        color:{
            type:Number,
            value:0
        },
        showMenu:{
          type: Boolean,
          value: false
        }
      },
      listeners: {
        'togglePanel': 'closeDrawer',
        'viewMenu': 'viewMenu',
        'hiddenMenu': 'hiddenMenu'  
      },
      _selectedObserver: function(n, o){
        /*if (n==2){
            this.$.clientsPending.showCurrentScreen();
        }
        if (n==3){
            this.$.clientsCancelled.showCurrentScreen();
        }
        if(n==5){
          this.$.escrowsScreen.showCurrentScreen();
        } */
       /* if (n == 1){
          this.$.syncScreen.showCurrentScreen();
        }*/
      },
      closeDrawer: function(){
        this.$.drawer.togglePanel();
      },
      viewMenu: function()
      {
        this.showMenu = true;
      },
      hiddenMenu: function()
      {
        this.showMenu = false;
      },
      ready: function(){
        this.$.drawer.closeDrawer();
        this.selected = 0;
        /*var xmlhttp = new XMLHttpRequest();
        
        xmlhttp.open('POST', 'http://192.168.43.121:8080/servicesWebSA-master/servicios_nacimiento?WSDL', true);       
        xmlhttp.setRequestHeader("Access-Control-Allow-Origin", "*");
        xmlhttp.setRequestHeader("Access-Control-Allow-Credentials", "true");
        xmlhttp.setRequestHeader("Access-Control-Allow-Methods", "GET,HEAD,OPTIONS,POST,PUT");
        xmlhttp.setRequestHeader("Access-Control-Allow-Headers", "Access-Control-Allow-Headers, Origin,Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers");
        
        console.log("SOA... X2");
        var strRequest =
            '<?xml version="1.0" encoding="UTF-8"?>' +
            '<S:Envelope ' +
                'xmlns:S="http://schemas.xmlsoap.org/soap/envelope/" ' +
                'xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"><SOAP-ENV:Header/>' +
                '<S:Body>' +
                    '<ns2:registrarNacimiento xmlns:ns2="http://sevices.collection/">' +
                        '<nombre>Carlos</nombre>' +
                        '<apellido>GÃ³mez</apellido>' +
                        '<genero>1</genero>' +
                        '<resicendia>zona 6</resicendia>' +
                        '<difunto>0</difunto>' +
                        '<idEstadoCivil>1</idEstadoCivil>' +
                        '<municipio>1</municipio>' +
                    ' </ns2:registrarNacimiento>' +
                '</S:Body>' +
            '</S:Envelope>';

        xmlhttp.setRequestHeader('Content-Type', 'text/xml; charset=utf-8');
        xmlhttp.setRequestHeader('SOAPAction', '"urn:server.replica"');
        console.log("onreadystatechange... X2");
        xmlhttp.onreadystatechange = function () {
            console.log("onreadystatechange ON... X2");
            if (xmlhttp.readyState == 4) {
              //document.getElementById("datos").innerHTML = xmlhttp.responseText;
              //alert(xmlhttp.responseText);
              console.log("[xmlhttp]");
              console.log("[xmlhttp content] " + JSON.stringify(xmlhttp));
            }
        };

        xmlhttp.send(strRequest);
        console.log("consultando FIN... X3");*/
        
      }
    });
  </script>
</dom-module>
